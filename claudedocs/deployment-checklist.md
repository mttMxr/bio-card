# Чеклист развертывания LinkStack на Beget

## Перед началом развертывания

### Локальная подготовка
- [ ] Все изменения закоммичены в Git
- [ ] Проект работает локально без ошибок
- [ ] Файл `.env` настроен правильно
- [ ] Все темы (Cloudy-Storm, PolySleek) на месте
- [ ] Тесты пройдены (если есть)

### Информация для записи
- [ ] Данные доступа к Beget (логин/пароль)
- [ ] Имя домена: ___________________________
- [ ] Имя базы данных: ___________________________
- [ ] Логин базы данных: ___________________________
- [ ] Пароль базы данных: ___________________________

---

## Настройка Beget

### База данных
- [ ] База данных MySQL создана
- [ ] Данные базы записаны
- [ ] Кодировка `utf8mb4_unicode_ci` установлена

### Домен и хостинг
- [ ] Домен добавлен в панель Beget
- [ ] PHP версия 8.1 или 8.2 выбрана
- [ ] SSH доступ активирован
- [ ] Данные SSH записаны

---

## Загрузка файлов

### Выберите метод загрузки
- [ ] **Метод A**: Git (рекомендуется)
- [ ] **Метод Б**: SFTP (FileZilla)
- [ ] **Метод В**: SCP/архив

### Проверка загруженных файлов
- [ ] Все файлы проекта загружены
- [ ] Папка `vendor/` присутствует (или будет установлена)
- [ ] Папка `themes/` содержит Cloudy-Storm и PolySleek
- [ ] Файл `.env.example` присутствует

---

## Настройка окружения

### Файл .env
- [ ] Файл `.env` создан (скопирован из `.env.example`)
- [ ] `APP_ENV=production`
- [ ] `APP_DEBUG=false`
- [ ] `APP_URL` установлен на ваш домен
- [ ] Данные базы данных заполнены правильно
- [ ] `ALLOW_CUSTOM_CODE_IN_THEMES=true`
- [ ] `ALLOW_USER_HTML=true`

### Composer и зависимости
- [ ] Composer установлен (глобально или локально)
- [ ] `composer install --no-dev --optimize-autoloader` выполнен успешно
- [ ] Папка `vendor/` создана и заполнена

---

## База данных

### Инициализация
- [ ] `php artisan key:generate` выполнен
- [ ] `php artisan migrate --force` выполнен без ошибок
- [ ] `php artisan db:seed --force --class=AdminSeeder` выполнен
- [ ] `php artisan db:seed --force --class=PageSeeder` выполнен
- [ ] `php artisan db:seed --force --class=ButtonSeeder` выполнен

---

## Веб-сервер

### Конфигурация
- [ ] Корневая директория указывает на `public/`
- [ ] Или `.htaccess` с редиректом создан
- [ ] Права доступа установлены: `chmod -R 775 storage bootstrap/cache`
- [ ] `php artisan storage:link` выполнен

### Оптимизация
- [ ] `php artisan config:cache` выполнен
- [ ] `php artisan route:cache` выполнен
- [ ] `php artisan view:cache` выполнен
- [ ] `php artisan optimize` выполнен

---

## Проверка работоспособности

### Базовые проверки
- [ ] Сайт открывается без ошибок 500
- [ ] Страница регистрации доступна
- [ ] Первый пользователь зарегистрирован (стал админом)
- [ ] Вход в систему работает

### Функциональные проверки
- [ ] **Studio → Appearance** открывается
- [ ] Темы Cloudy-Storm и PolySleek доступны для выбора
- [ ] Cloudy-Storm: анимация молний работает
- [ ] Загрузка аватара работает
- [ ] Page Description с Quill editor работает
- [ ] Форматирование текста (жирный, курсив, цвет) работает
- [ ] Сохранение цветного текста работает
- [ ] Кнопка "Поделиться" работает
- [ ] Красное выделение текста работает

### SSL и безопасность
- [ ] SSL сертификат установлен
- [ ] HTTPS работает
- [ ] HTTP редиректит на HTTPS
- [ ] Смешанный контент отсутствует (mixed content warnings)

---

## Пост-развертывание

### Настройка
- [ ] Профиль заполнен
- [ ] Ссылки добавлены
- [ ] Страница выглядит как ожидается
- [ ] Все кастомные стили применяются

### Безопасность
- [ ] Пароль админа надежный
- [ ] `.env` файл не доступен через браузер
- [ ] Логи не содержат чувствительной информации
- [ ] Регистрация настроена правильно (`REGISTER_AUTH=auth`)

### Бэкап
- [ ] Первый бэкап базы данных создан
- [ ] Первый бэкап файлов создан
- [ ] Место для хранения бэкапов определено

---

## Мониторинг

### Первые 24 часа
- [ ] Проверка логов: `tail -f storage/logs/laravel.log`
- [ ] Мониторинг ошибок
- [ ] Проверка производительности
- [ ] Тестирование на разных устройствах

### Долгосрочное
- [ ] Настроены cron задачи (если нужно)
- [ ] Настроено автообновление SSL
- [ ] План регулярных бэкапов создан
- [ ] Процесс обновления определен

---

## В случае проблем

### Базовая диагностика
```bash
# Проверка логов
tail -n 50 storage/logs/laravel.log

# Очистка кэша
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear

# Проверка прав
ls -la storage/
ls -la bootstrap/cache/

# Проверка .env
cat .env | grep -v PASSWORD
```

### Контакты
- [ ] Номер тикета поддержки Beget: ___________________________
- [ ] Резервный способ доступа к серверу настроен

---

**Статус развертывания:**
- Начало: ___________________________
- Завершение: ___________________________
- Проблемы: ___________________________
- Решения: ___________________________

**Подпись:** ___________________________
